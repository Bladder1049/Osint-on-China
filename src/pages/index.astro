---
// Component imports
import Layout from "@layout"
import {
	HeroSlice,
	AboutSlice,
	ServicesSlice,
	LatestArticlesSlice,
	ContactSlice
} from "@component/home"

// Fetch all articles
const articles = await Astro.glob("../../_articles/*.md")

let filteredArticles = articles.slice(-3).reverse()

filteredArticles = filteredArticles.sort((a, b) => {
	return (
		new Date(b.frontmatter.date).valueOf() -
		new Date(a.frontmatter.date).valueOf()
	)
})
---

<Layout title="Home">
	<HeroSlice />
	<AboutSlice />
	<ServicesSlice />
	<LatestArticlesSlice data={filteredArticles} />
	<ContactSlice />
</Layout>
